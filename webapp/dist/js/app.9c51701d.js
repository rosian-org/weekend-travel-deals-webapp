(function(e){function t(t){for(var r,n,s=t[0],o=t[1],d=t[2],c=0,u=[];c<s.length;c++)n=s[c],l[n]&&u.push(l[n][0]),l[n]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);f&&f(t);while(u.length)u.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,s=1;s<a.length;s++){var o=a[s];0!==l[o]&&(r=!1)}r&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},l={app:0},i=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"065f":function(e,t,a){},"38d2":function(e,t,a){"use strict";var r=a("065f"),l=a.n(r);l.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),l=a("bb71");a("da64");r["a"].use(l["a"],{iconfont:"md",theme:{primary:"#ca125a",secondary:"#FFEBEE",accent:"#ca125a",error:"#ca125a"}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticStyle:{"background-color":"#FFEBEE"},attrs:{id:"inspire"}},[a("v-navigation-drawer",{staticStyle:{"background-color":"#FFEBEE"},attrs:{width:"250",fixed:"",right:"","clipped-right":"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-toolbar",{staticStyle:{"background-color":"#ca125a"},attrs:{dark:""}},[a("v-list",[a("v-list-tile",[a("v-list-tile-title",{staticClass:"title"},[e._v("\n          Filters\n        ")])],1)],1)],1),a("v-list",{staticStyle:{"padding-top":"20px"}},[a("v-list-tile",[a("v-select",{attrs:{label:"Departure Week","prepend-icon":"date_range","item-text":"fText","item-value":"fval",items:e.filterDepartureWeek},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterDepartureWeekSelected,callback:function(t){e.filterDepartureWeekSelected=t},expression:"filterDepartureWeekSelected"}})],1),a("v-list-tile",{staticStyle:{"padding-top":"20px"}},[a("v-select",{attrs:{label:"Departure Weekday","prepend-icon":"today","item-text":"fText","item-value":"fval",items:e.filterDepartureWeekday},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterDepartureWeekdaySelected,callback:function(t){e.filterDepartureWeekdaySelected=t},expression:"filterDepartureWeekdaySelected"}})],1),a("v-list-tile",{staticStyle:{"padding-top":"30px"}},[a("v-select",{attrs:{label:"Departure city","prepend-icon":"flight_takeoff","item-text":"fText","item-value":"fval",items:e.filterDeparture},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterDepartureSelected,callback:function(t){e.filterDepartureSelected=t},expression:"filterDepartureSelected"}})],1),a("v-list-tile",{staticStyle:{"padding-top":"20px"}},[a("v-select",{attrs:{label:"Destination city","prepend-icon":"flight_land","item-text":"fText","item-value":"fval",items:e.filterDestinations},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterDestinationSelected,callback:function(t){e.filterDestinationSelected=t},expression:"filterDestinationSelected"}})],1),a("v-list-tile",{staticStyle:{"padding-top":"30px"}},[a("v-select",{attrs:{label:"Accommodation class","prepend-icon":"hotel","item-text":"fText","item-value":"fval",items:e.filterStars},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterStarsSelected,callback:function(t){e.filterStarsSelected=t},expression:"filterStarsSelected"}})],1),a("v-list-tile",{staticStyle:{"padding-top":"20px"}},[a("v-select",{attrs:{label:"Number of travellers","prepend-icon":"person","item-text":"fText","item-value":"fval",items:e.filterAdult},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterAdultSelected,callback:function(t){e.filterAdultSelected=t},expression:"filterAdultSelected"}})],1),a("v-list-tile",{staticStyle:{"padding-top":"30px"}},[a("v-select",{attrs:{label:"Budget","prepend-icon":"local_offer","item-text":"fText","item-value":"fval",items:e.filterBudget},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterBudgetSelected,callback:function(t){e.filterBudgetSelected=t},expression:"filterBudgetSelected"}})],1)],1)],1),a("v-toolbar",{attrs:{color:"primary",dark:"",fixed:"",app:""}},[a("v-img",{attrs:{src:"https://rosian.org/images/rosian-logo-with-text-horizontal.gif","max-width":"130","min-width":"80"}}),a("v-toolbar-title",[e._v("Weekends")]),a("div",[e._v("\n        (Beta)\n    ")]),a("v-spacer"),a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}})],1),a("v-content",[a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},e._l(e.dealsToShow,function(e){return a("dealcardv1",{key:e.dealId,attrs:{deal:e}})}),1),a("v-layout",{staticStyle:{"padding-top":"30px"},attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[a("v-btn",{class:e.showAllDealsCss,attrs:{large:""},on:{click:e.displayMoreDeals}},[a("v-icon",[e._v("expand_more")]),e._v(" Display more deals (we have "+e._s(e.deals.length)+" deals)\n        ")],1)],1),a("v-layout",{staticStyle:{"padding-top":"50px"},attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[a("h1",{class:e.overFilteringCsss,attrs:{large:""}},[a("v-icon",[e._v("beach_access")]),e._v("\n           Sorry, but we don't have a deal matching your search. Try removing some of the filters. \n           "),a("v-icon",[e._v("beach_access")])],1)])],1)],1),a("v-footer",{attrs:{color:"primary",app:""}},[a("span",{staticClass:"white--text",staticStyle:{"padding-left":"10px"}},[e._v("Travel the World over the weekends!")])])],1)},n=[],s=(a("6b54"),a("5d73")),o=a.n(s),d=a("774e"),f=a.n(d),c=a("b6d0"),u=a.n(c),p=(a("55dd"),a("f499")),v=a.n(p),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs12:"",sm6:"",m4:"",lg4:"",xl3:""}},[a("v-card",{attrs:{"max-width":"450","min-width":"300"}},[a("v-img",{attrs:{src:"destination-images/"+e.deal.destinationCity+".jpg",alt:"placeholder"}},[a("v-layout",{staticStyle:{"background-image":"linear-gradient(to top, rgba(0, 0, 0, 1) 4%, transparent 72px)"},attrs:{"fill-height":"",column:"","ma-0":""}},[a("v-spacer"),a("v-flex",{staticClass:"text-xs-right",attrs:{shrink:""}},[a("h2",{staticClass:"headline mb-0",staticStyle:{color:"#FFEBEE","margin-bottom":"0px"}},[e._v(e._s(e.deal.destCountry))])])],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[e._v(e._s(e.deal.destinationCity))])])]),a("v-list",[a("v-list-tile",[a("v-list-tile-avatar",[a("v-icon",[e._v("event")])],1),a("v-list-tile-content",[e._v("\n                      "+e._s(e.deal.departureDay)+" "+e._s(e.deal.departureMonthShort)+"  - \n                      "+e._s(e.deal.returnDay)+" "+e._s(e.deal.returnMonthShort)+" \n                      ("+e._s(e.deal.departureDayEn)+" - "+e._s(e.deal.returnDayEn)+")\n                  ")])],1),a("v-list-tile",[a("v-list-tile-avatar",[a("v-icon",[e._v("flight")])],1),a("v-list-tile-content",[e._v("\n                      "+e._s(e.deal.departureCity)+"  - \n                      "+e._s(e.deal.destinationCity)+" ("+e._s(e.deal.departureAirportCode)+" - "+e._s(e.deal.destinationAirportCode)+")\n                  ")])],1),a("v-list-tile",[a("v-list-tile-avatar",[a("v-icon",[e._v("hotel")])],1),a("v-list-tile-content",[e._v("\n                      "+e._s(e.deal.accommodationName)+" ("+e._s(e.deal.accommodationStarRating)+")\n                  ")])],1),a("v-list-tile",[a("v-list-tile-avatar",[a("v-icon",[e._v(e._s(e.travellerIcon))])],1),a("v-list-tile-content",[a("div",[e._v(e._s(e.deal.numberOfAdults)+" Adult "+e._s(e.travellerString))])])],1),a("v-divider"),a("v-list-tile",[a("v-list-tile-avatar",[a("v-icon",[e._v("local_offer")])],1),a("v-list-tile-content",[a("div",{staticClass:"font-weight-bold"},[e._v("£"+e._s(e.deal.priceTotalAllInclusive)+" - Total trip price")])])],1)],1),a("div",{staticClass:"text-xs-center text-sm-center text-lg-center text-xl-center"},[a("a",{attrs:{href:""+e.deal.flightBookingLink,target:"_blank",rel:"noopener"}},[a("v-btn",{attrs:{large:"",color:"primary",dark:""}},[e._v("Book flights")])],1),a("a",{attrs:{href:""+e.deal.hotelBookingLink,target:"_blank",rel:"noopener"}},[a("v-btn",{attrs:{large:"",color:"primary",dark:""}},[e._v("Book Accommodation")])],1)])],1)],1)},y=[],g={props:["deal"],components:{},methods:{},computed:{travellerString:function(){return"1"==this.deal.numberOfAdults.toString()?"traveller":"travellers"},travellerIcon:function(){return"1"==this.deal.numberOfAdults.toString()?"person":"people"}},name:"dealcardv1"},S=g,m=(a("38d2"),a("2877")),w=a("6544"),D=a.n(w),x=a("8336"),A=a("b0af"),b=a("12b2"),T=a("ce7e"),k=a("0e8f"),_=a("132d"),C=a("adda"),O=a("a722"),I=a("8860"),F=a("ba95"),V=a("c954"),W=a("5d23"),B=a("9910"),E=Object(m["a"])(S,h,y,!1,null,"4462ee7b",null),N=E.exports;D()(E,{VBtn:x["a"],VCard:A["a"],VCardTitle:b["a"],VDivider:T["a"],VFlex:k["a"],VIcon:_["a"],VImg:C["a"],VLayout:O["a"],VList:I["a"],VListTile:F["a"],VListTileAvatar:V["a"],VListTileContent:W["a"],VSpacer:B["a"]});var j={name:"App",components:{dealcardv1:N},data:function(){return{drawer:null,deals:[],dealsToShow:[],filterDestinations:[{fId:0,fval:"Any",fText:"Any"},{fId:1,fval:"Budapest",fText:"Budapest"}],filterDeparture:[{fId:0,fval:"Any",fText:"Any"},{fId:1,fval:"Glasgow",fText:"Glasgow"}],filterDepartureWeekday:[{fId:0,fval:"Any",fText:"Any"},{fId:1,fval:"Thu",fText:"Thu"}],filterStars:[{fId:0,fval:"Any",fText:"Any"}],filterDepartureWeek:[{fId:0,fval:"Any",fText:"Any"},{fId:1,fval:"This week",fText:"This week"},{fId:2,fval:"Next week",fText:"Next week"},{fId:3,fval:"Two weeks ahead",fText:"Two weeks ahead"},{fId:4,fval:"Three weeks ahead",fText:"Three weeks ahead"}],filterAdult:["Any"],filterDepWeek:["Any"],filterDestinationSelected:"Any",filterDepartureSelected:"Any",filterDepartureWeekdaySelected:"Any",filterStarsSelected:"Any",filterAdultSelected:"Any",filterDepWeekSelected:"Any",filterDepartureWeekSelected:"Any",filterBudget:[{fId:0,fval:0,fText:"Any"},{fId:1,fval:1,fText:"£"},{fId:2,fval:2,fText:"££"},{fId:3,fval:3,fText:"£££"},{fId:4,fval:4,fText:"££££"},{fId:5,fval:5,fText:"£££££"}],filterBudgetSelected:0,numberOfDealsToShowOnFirstPageLoad:14,numDealsToShowNow:14,defaultDealsNumberPerPage:14,showAllDeals:!1,showAllDealsCss:"",overFilteringCsss:"d-none"}},created:function(){var e=this,t=new Headers;t.has("Accept-Encoding")?t.set("Accept-Encoding","deflate"):t.append("Accept-Encoding","deflate");var a={method:"GET",headers:t,mode:"cors",cache:"default"},r=new Request("https://weekend.rosian.org/deals.default.json",a);fetch(r).then(function(e){return e.json()}).then(function(t){if(e.deals=t,!0===e.showAllDeals)e.dealsToShow=JSON.parse(v()(t));else{var a=JSON.parse(v()(t));e.dealsToShow=a.slice(0,e.numberOfDealsToShowOnFirstPageLoad)}e.refreshDestinationFilterOptions(),e.refreshDepartureFilterOptions(),e.refreshDepartureWeekdayFilterOptions(),e.refreshAccommodationClassFilterOptions(),e.refreshAdultFilterOptions(),e.calculateDealPriceCategories()})},methods:{calculateDealPriceCategories:function(){this.deals.sort(function(e,t){return e.priceTotalAllInclusive-t.priceTotalAllInclusive});var e=this.deals.length,t=this.filterBudget.length-1,a=Math.round(e/t),r=1,l=0;for(var i in this.deals)this.deals[i].budgetBucket=r,l++,l==a&&(r++,l=0)},refreshDestinationFilterOptions:function(){var e=new u.a;for(var t in this.deals)e.add(this.deals[t].destinationCity);var a=f()(e).sort();a.unshift("Any"),e=new u.a(a);var r=[];t=0;var l=!0,i=!1,n=void 0;try{for(var s,d=o()(e);!(l=(s=d.next()).done);l=!0){var c=s.value;r.push({fId:t,fval:c,fText:c}),t++}}catch(p){i=!0,n=p}finally{try{l||null==d.return||d.return()}finally{if(i)throw n}}this.filterDestinations=r},refreshDepartureFilterOptions:function(){var e=new u.a;for(var t in e.add("Any"),this.deals)e.add(this.deals[t].departureCity);e=new u.a(f()(e).sort());var a=[];t=0;var r=!0,l=!1,i=void 0;try{for(var n,s=o()(e);!(r=(n=s.next()).done);r=!0){var d=n.value;a.push({fId:t,fval:d,fText:d}),t++}}catch(c){l=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(l)throw i}}this.filterDeparture=a},refreshAccommodationClassFilterOptions:function(){var e=new u.a;for(var t in e.add("Any"),this.deals)e.add(this.deals[t].accommodationStarRating);var a=f()(e).sort();a.unshift("Any"),e=new u.a(a);var r=[];t=0;var l=!0,i=!1,n=void 0;try{for(var s,d=o()(e);!(l=(s=d.next()).done);l=!0){var c=s.value;r.push({fId:t,fval:c,fText:c}),t++}}catch(p){i=!0,n=p}finally{try{l||null==d.return||d.return()}finally{if(i)throw n}}this.filterStars=r},refreshDepartureWeekdayFilterOptions:function(){var e=new u.a;for(var t in this.deals)e.add(this.deals[t].departureDayEn);var a=["Any"];e.has("Thu")&&a.push("Thu"),e.has("Fri")&&a.push("Fri"),e.has("Sat")&&a.push("Sat"),e=new u.a(a);var r=[];t=0;var l=!0,i=!1,n=void 0;try{for(var s,d=o()(e);!(l=(s=d.next()).done);l=!0){var f=s.value;r.push({fId:t,fval:f,fText:f}),t++}}catch(c){i=!0,n=c}finally{try{l||null==d.return||d.return()}finally{if(i)throw n}}this.filterDepartureWeekday=r},refreshAdultFilterOptions:function(){var e=new u.a;for(var t in this.deals)e.add(this.deals[t].numberOfAdults);var a=["Any"];e.has("1")&&a.push("1"),e.has("2")&&a.push("2"),e=new u.a(a);var r=[];t=0;var l=!0,i=!1,n=void 0;try{for(var s,d=o()(e);!(l=(s=d.next()).done);l=!0){var f=s.value;r.push({fId:t,fval:f,fText:f}),t++}}catch(c){i=!0,n=c}finally{try{l||null==d.return||d.return()}finally{if(i)throw n}}this.filterAdult=r},displayAllDealsOnPage:function(){this.showAllDeals=!0,this.showAllDealsCss="d-none",this.dealsToShow=JSON.parse(v()(this.deals))},filterAppliedHandler:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];1==t&&(this.numDealsToShowNow=this.defaultDealsNumberPerPage);var a=this.deals.slice();function r(e,t){var a,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=(new Date).getFullYear();if(0==r){var i=t+" "+e+", "+l.toString();a=new Date(i)}else a=new Date;var n=new Date(l,0,1),s=Math.ceil(((a-n)/864e5+n.getDay()+1)/7);return s}"Any"!==this.filterDestinationSelected&&(a=a.filter(function(t){return t.destinationCity==e.filterDestinationSelected})),"Any"!==this.filterDepartureSelected&&(a=a.filter(function(t){return t.departureCity==e.filterDepartureSelected})),0!==this.filterBudgetSelected&&(a=a.filter(function(t){return t.budgetBucket==e.filterBudgetSelected})),"Any"!==this.filterStarsSelected&&(a=a.filter(function(t){return t.accommodationStarRating==e.filterStarsSelected})),"Any"!==this.filterDepartureWeekdaySelected&&(a=a.filter(function(t){return t.departureDayEn==e.filterDepartureWeekdaySelected})),"Any"!==this.filterAdultSelected&&(a=a.filter(function(t){return t.numberOfAdults==e.filterAdultSelected})),"Any"!==this.filterDepartureWeekSelected&&("This week"==this.filterDepartureWeekSelected&&(a=a.filter(function(e){return r(e.departureDay,e.departureMonthShort,!1)==r(0,0,!0)})),"Next week"==this.filterDepartureWeekSelected&&(a=a.filter(function(e){return r(e.departureDay,e.departureMonthShort,!1)==r(0,0,!0)+1})),"Two weeks ahead"==this.filterDepartureWeekSelected&&(a=a.filter(function(e){return r(e.departureDay,e.departureMonthShort,!1)==r(0,0,!0)+2})),"Three weeks ahead"==this.filterDepartureWeekSelected&&(a=a.filter(function(e){return r(e.departureDay,e.departureMonthShort,!1)==r(0,0,!0)+3}))),this.dealsToShow=a.slice(0,this.numDealsToShowNow),0==this.dealsToShow.length?(this.showAllDealsCss="d-none",this.overFilteringCsss=""):(this.showAllDealsCss="",this.overFilteringCsss="d-none"),this.numDealsToShowNow>=a.length-1?this.showAllDealsCss="d-none":this.showAllDealsCss=""},displayMoreDeals:function(){this.numDealsToShowNow+=20;var e=JSON.parse(v()(this.deals));this.numDealsToShowNow>e.length-1?(this.numDealsToShowNow=e.length-1,this.showAllDeals=!0,this.showAllDealsCss="d-none"):(this.showAllDeals=!1,this.showAllDealsCss=""),this.filterAppliedHandler(!1)}},props:{source:String}},P=j,M=a("7496"),L=a("a523"),H=a("549c"),J=a("553a"),R=a("f774"),G=a("b56d"),$=a("71d9"),q=a("706c"),z=a("2a7f"),Y=Object(m["a"])(P,i,n,!1,null,null,null),K=Y.exports;D()(Y,{VApp:M["a"],VBtn:x["a"],VContainer:L["a"],VContent:H["a"],VFooter:J["a"],VIcon:_["a"],VImg:C["a"],VLayout:O["a"],VList:I["a"],VListTile:F["a"],VListTileTitle:W["b"],VNavigationDrawer:R["a"],VSelect:G["a"],VSpacer:B["a"],VToolbar:$["a"],VToolbarSideIcon:q["a"],VToolbarTitle:z["a"]}),r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(K)}}).$mount("#app")}});
//# sourceMappingURL=app.9c51701d.js.map