(function(e){function t(t){for(var a,n,s=t[0],o=t[1],d=t[2],f=0,u=[];f<s.length;f++)n=s[f],l[n]&&u.push(l[n][0]),l[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);c&&c(t);while(u.length)u.shift()();return i.push.apply(i,d||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,s=1;s<r.length;s++){var o=r[s];0!==l[o]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},l={app:0},i=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=o;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},5373:function(e,t,r){"use strict";var a=r("7780"),l=r.n(a);l.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),l=r("bb71");r("da64");a["a"].use(l["a"],{iconfont:"md",theme:{primary:"#ca125a",secondary:"#FFEBEE",accent:"#ca125a",error:"#ca125a"}});var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{staticStyle:{"background-color":"#fff1f4"},attrs:{id:"inspire"}},[r("v-navigation-drawer",{staticStyle:{"background-color":"#FFEBEE"},attrs:{width:"250",fixed:"",right:"","clipped-right":"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-toolbar",{staticStyle:{"background-color":"#ca125a"},attrs:{dark:""}},[r("v-list",[r("v-list-tile",[r("v-list-tile-title",{staticClass:"title"},[e._v("\n          Filters\n        ")])],1)],1)],1),r("v-list",{staticStyle:{"padding-top":"20px"}},[r("v-list-tile",[r("v-select",{attrs:{label:"Departure Week","prepend-icon":"date_range","item-text":"fText","item-value":"fval",items:e.filterDepartureWeek},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterDepartureWeekSelected,callback:function(t){e.filterDepartureWeekSelected=t},expression:"filterDepartureWeekSelected"}})],1),r("v-list-tile",{staticStyle:{"padding-top":"20px"}},[r("v-select",{attrs:{label:"Departure Weekday","prepend-icon":"today","item-text":"fText","item-value":"fval",items:e.filterDepartureWeekday},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterDepartureWeekdaySelected,callback:function(t){e.filterDepartureWeekdaySelected=t},expression:"filterDepartureWeekdaySelected"}})],1),r("v-list-tile",{staticStyle:{"padding-top":"30px"}},[r("v-select",{attrs:{label:"Departure city","prepend-icon":"flight_takeoff","item-text":"fText","item-value":"fval",items:e.filterDeparture},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterDepartureSelected,callback:function(t){e.filterDepartureSelected=t},expression:"filterDepartureSelected"}})],1),r("v-list-tile",{staticStyle:{"padding-top":"20px"}},[r("v-select",{attrs:{label:"Destination city","prepend-icon":"flight_land","item-text":"fText","item-value":"fval",items:e.filterDestinations},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterDestinationSelected,callback:function(t){e.filterDestinationSelected=t},expression:"filterDestinationSelected"}})],1),r("v-list-tile",{staticStyle:{"padding-top":"30px"}},[r("v-select",{attrs:{label:"Accommodation class","prepend-icon":"hotel","item-text":"fText","item-value":"fval",items:e.filterStars},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterStarsSelected,callback:function(t){e.filterStarsSelected=t},expression:"filterStarsSelected"}})],1),r("v-list-tile",{staticStyle:{"padding-top":"20px"}},[r("v-select",{attrs:{label:"Number of travellers","prepend-icon":"person","item-text":"fText","item-value":"fval",items:e.filterAdult},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterAdultSelected,callback:function(t){e.filterAdultSelected=t},expression:"filterAdultSelected"}})],1),r("v-list-tile",{staticStyle:{"padding-top":"30px"}},[r("v-select",{attrs:{label:"Budget","prepend-icon":"local_offer","item-text":"fText","item-value":"fval",items:e.filterBudget},on:{input:function(t){e.filterAppliedHandler()}},model:{value:e.filterBudgetSelected,callback:function(t){e.filterBudgetSelected=t},expression:"filterBudgetSelected"}})],1)],1),r("div",{staticClass:"text-xs-center text-sm-center text-lg-center text-xl-center hidden-lg-and-up"},[r("v-btn",{attrs:{large:"",color:"primary",dark:""},on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}},[e._v("Done")])],1)],1),r("v-toolbar",{attrs:{color:"primary",dark:"",fixed:"",app:""}},[r("a",{attrs:{href:"https://rosian.org",target:"_blank",rel:"noopener"}},[r("v-img",{attrs:{src:"https://rosian.org/images/rosian-logo-with-text-horizontal.gif","max-width":"130","min-width":"80"}})],1),r("v-toolbar-title",[e._v("Weekends")]),r("div",[e._v("\n        (Beta)\n    ")]),r("v-spacer"),r("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}},[r("v-icon",[e._v("filter_list")])],1)],1),r("v-content",[r("v-container",{attrs:{fluid:"","grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},e._l(e.dealsToShow,function(e){return r("dealcardv1",{key:e.dealId,attrs:{deal:e}})}),1),r("v-layout",{staticStyle:{"padding-top":"30px"},attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[r("v-btn",{class:e.showAllDealsCss,attrs:{large:""},on:{click:e.displayMoreDeals}},[r("v-icon",[e._v("expand_more")]),e._v(" Display more deals (we have "+e._s(e.deals.length)+" deals)\n        ")],1)],1),r("v-layout",{staticStyle:{"padding-top":"50px"},attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[r("h1",{class:e.overFilteringCsss,attrs:{large:""}},[r("v-icon",[e._v("beach_access")]),e._v("\n           Sorry, but we don't have a deal matching your search. Try removing some of the filters. \n           "),r("v-icon",[e._v("beach_access")])],1),r("br"),r("br"),r("v-btn",{class:e.overFilteringCsss,attrs:{large:"","justify-center":"","align-center":""},on:{click:e.removeAllFilters}},[r("v-icon",[e._v("highlight_off")]),e._v(" Remove all filters\n          ")],1)],1)],1)],1),r("v-footer",{attrs:{color:"primary",app:""}},[r("span",{staticClass:"white--text",staticStyle:{"padding-left":"10px"}},[e._v("Travel the World over the weekends!")])])],1)},n=[],s=r("5d73"),o=r.n(s),d=r("774e"),c=r.n(d),f=r("b6d0"),u=r.n(f),p=(r("6b54"),r("55dd"),r("f499")),v=r.n(p),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-flex",{attrs:{xs12:"",sm6:"",m4:"",lg4:"",xl3:""}},[r("v-card",{attrs:{"max-width":"450","min-width":"300"}},[r("v-img",{attrs:{src:"destination-images/"+e.deal.destinationCity+".jpg",alt:"placeholder"}},[r("v-layout",{staticStyle:{"background-image":"linear-gradient(to top, rgba(0, 0, 0, 1) 4%, transparent 72px)"},attrs:{"fill-height":"",column:"","ma-0":""}},[r("v-spacer"),r("v-flex",{staticClass:"text-xs-right",attrs:{shrink:""}},[r("h2",{staticClass:"headline mb-0",staticStyle:{color:"#FFEBEE","margin-bottom":"0px"}},[e._v(e._s(e.deal.destCountry))])])],1)],1),r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[e._v(e._s(e.deal.destinationCity))])])]),r("v-list",[r("v-list-tile",[r("v-list-tile-avatar",[r("v-icon",[e._v("event")])],1),r("v-list-tile-content",[e._v("\n                      "+e._s(e.deal.departureDay)+" "+e._s(e.deal.departureMonthShort)+"  - \n                      "+e._s(e.deal.returnDay)+" "+e._s(e.deal.returnMonthShort)+" \n                      ("+e._s(e.deal.departureDayEn)+" - "+e._s(e.deal.returnDayEn)+")\n                  ")])],1),r("v-list-tile",[r("v-list-tile-avatar",[r("v-icon",[e._v("flight")])],1),r("v-list-tile-content",[e._v("\n                      "+e._s(e.deal.departureCity)+"  - \n                      "+e._s(e.deal.destinationCity)+" ("+e._s(e.deal.departureAirportCode)+" - "+e._s(e.deal.destinationAirportCode)+")\n                  ")])],1),r("v-list-tile",[r("v-list-tile-avatar",[r("v-icon",[e._v("hotel")])],1),r("v-list-tile-content",[e._v("\n                      "+e._s(e.deal.accommodationName)+" ("+e._s(e.deal.accommodationStarRating)+")\n                  ")])],1),r("v-list-tile",[r("v-list-tile-avatar",[r("v-icon",[e._v(e._s(e.travellerIcon))])],1),r("v-list-tile-content",[r("div",[e._v(e._s(e.deal.numberOfAdults)+" Adult "+e._s(e.travellerString))])])],1),r("v-divider"),r("v-list-tile",[r("v-list-tile-avatar",[r("v-icon",[e._v("local_offer")])],1),r("v-list-tile-content",[r("div",{staticClass:"font-weight-bold"},[e._v("£"+e._s(e.deal.priceTotalAllInclusive)+" - Total trip price")])])],1)],1),r("div",{staticClass:"text-xs-center text-sm-center text-lg-center text-xl-center"},[r("a",{attrs:{href:""+e.deal.flightBookingLink,target:"_blank",rel:"noopener"}},[r("v-btn",{attrs:{large:"",color:"primary",dark:""}},[e._v("Book flights (£"+e._s(e.deal.flightTotalPrice)+")")])],1),r("a",{attrs:{href:""+e.deal.hotelBookingLink,target:"_blank",rel:"noopener"}},[r("v-btn",{attrs:{large:"",color:"primary",dark:""}},[e._v("Book Accommodation (£"+e._s(e.deal.priceAccommodation)+")")])],1)])],1)],1)},y=[],g={props:["deal"],components:{},methods:{},computed:{travellerString:function(){return"1"==this.deal.numberOfAdults.toString()?"traveller":"travellers"},travellerIcon:function(){return"1"==this.deal.numberOfAdults.toString()?"person":"people"}},name:"dealcardv1"},S=g,m=(r("5373"),r("2877")),w=r("6544"),D=r.n(w),A=r("8336"),x=r("b0af"),b=r("12b2"),T=r("ce7e"),k=r("0e8f"),_=r("132d"),C=r("adda"),I=r("a722"),O=r("8860"),F=r("ba95"),W=r("c954"),V=r("5d23"),B=r("9910"),E=Object(m["a"])(S,h,y,!1,null,"65197cfb",null),N=E.exports;D()(E,{VBtn:A["a"],VCard:x["a"],VCardTitle:b["a"],VDivider:T["a"],VFlex:k["a"],VIcon:_["a"],VImg:C["a"],VLayout:I["a"],VList:O["a"],VListTile:F["a"],VListTileAvatar:W["a"],VListTileContent:V["a"],VSpacer:B["a"]});var P={name:"App",components:{dealcardv1:N},data:function(){return{drawer:null,deals:[],dealsToShow:[],filterDestinations:[{fId:0,fval:"Any",fText:"Any"},{fId:1,fval:"Budapest",fText:"Budapest"}],filterDeparture:[{fId:0,fval:"Any",fText:"Any"},{fId:1,fval:"Glasgow",fText:"Glasgow"}],filterDepartureWeekday:[{fId:0,fval:"Any",fText:"Any"},{fId:1,fval:"Thu",fText:"Thu"}],filterStars:[{fId:0,fval:"Any",fText:"Any"}],filterDepartureWeek:[{fId:0,fval:"Any",fText:"Any"},{fId:1,fval:"This week",fText:"This week"},{fId:2,fval:"Next week",fText:"Next week"},{fId:3,fval:"Two weeks ahead",fText:"Two weeks ahead"},{fId:4,fval:"Three weeks ahead",fText:"Three weeks ahead"}],filterAdult:["Any"],filterDepWeek:["Any"],filterDestinationSelected:"Any",filterDepartureSelected:"Any",filterDepartureWeekdaySelected:"Any",filterStarsSelected:"Any",filterAdultSelected:"Any",filterDepWeekSelected:"Any",filterDepartureWeekSelected:"Any",filterBudget:[{fId:0,fval:0,fText:"Any"},{fId:1,fval:1,fText:"£"},{fId:2,fval:2,fText:"££"},{fId:3,fval:3,fText:"£££"},{fId:4,fval:4,fText:"££££"},{fId:5,fval:5,fText:"£££££"}],filterBudgetSelected:0,numberOfDealsToShowOnFirstPageLoad:14,numDealsToShowNow:14,defaultDealsNumberPerPage:14,showAllDeals:!1,showAllDealsCss:"",overFilteringCsss:"d-none"}},created:function(){var e=this,t=new Headers;t.has("Accept-Encoding")?t.set("Accept-Encoding","deflate"):t.append("Accept-Encoding","deflate");var r={method:"GET",headers:t,mode:"cors",cache:"default"},a=new Request("https://weekend.rosian.org/deals.default.json",r);fetch(a).then(function(e){return e.json()}).then(function(t){if(e.deals=t,!0===e.showAllDeals)e.dealsToShow=JSON.parse(v()(t));else{var r=JSON.parse(v()(t));e.dealsToShow=r.slice(0,e.numberOfDealsToShowOnFirstPageLoad)}e.refreshDestinationFilterOptions(),e.refreshDepartureFilterOptions(),e.refreshDepartureWeekdayFilterOptions(),e.refreshAccommodationClassFilterOptions(),e.refreshAdultFilterOptions(),e.calculateDealPriceCategories()})},methods:{calculateDealPriceCategories:function(){this.deals.sort(function(e,t){return e.priceTotalAllInclusive-t.priceTotalAllInclusive});var e=this.deals.length,t=this.filterBudget.length-1,r=Math.round(e/t),a=1,l=0,i=0;for(var n in this.deals)this.deals[n].budgetBucket=a,l++,l==r-1&&(this.filterBudget[a]["fText"]="£"+i.toString()+" - £"+this.deals[n].priceTotalAllInclusive.toString(),i=this.deals[n].priceTotalAllInclusive,a++,l=0)},refreshDestinationFilterOptions:function(){var e=new u.a;for(var t in this.deals)e.add(this.deals[t].destinationCity);var r=c()(e).sort();r.unshift("Any"),e=new u.a(r);var a=[];t=0;var l=!0,i=!1,n=void 0;try{for(var s,d=o()(e);!(l=(s=d.next()).done);l=!0){var f=s.value;a.push({fId:t,fval:f,fText:f}),t++}}catch(p){i=!0,n=p}finally{try{l||null==d.return||d.return()}finally{if(i)throw n}}this.filterDestinations=a},refreshDepartureFilterOptions:function(){var e=new u.a;for(var t in e.add("Any"),this.deals)e.add(this.deals[t].departureCity);e=new u.a(c()(e).sort());var r=[];t=0;var a=!0,l=!1,i=void 0;try{for(var n,s=o()(e);!(a=(n=s.next()).done);a=!0){var d=n.value;r.push({fId:t,fval:d,fText:d}),t++}}catch(f){l=!0,i=f}finally{try{a||null==s.return||s.return()}finally{if(l)throw i}}this.filterDeparture=r},refreshAccommodationClassFilterOptions:function(){var e=new u.a;for(var t in e.add("Any"),this.deals)e.add(this.deals[t].accommodationStarRating);var r=c()(e).sort();r.unshift("Any"),e=new u.a(r);var a=[];t=0;var l=!0,i=!1,n=void 0;try{for(var s,d=o()(e);!(l=(s=d.next()).done);l=!0){var f=s.value;a.push({fId:t,fval:f,fText:f}),t++}}catch(p){i=!0,n=p}finally{try{l||null==d.return||d.return()}finally{if(i)throw n}}this.filterStars=a},refreshDepartureWeekdayFilterOptions:function(){var e=new u.a;for(var t in this.deals)e.add(this.deals[t].departureDayEn);var r=["Any"];e.has("Thu")&&r.push("Thu"),e.has("Fri")&&r.push("Fri"),e.has("Sat")&&r.push("Sat"),e=new u.a(r);var a=[];t=0;var l=!0,i=!1,n=void 0;try{for(var s,d=o()(e);!(l=(s=d.next()).done);l=!0){var c=s.value;a.push({fId:t,fval:c,fText:c}),t++}}catch(f){i=!0,n=f}finally{try{l||null==d.return||d.return()}finally{if(i)throw n}}this.filterDepartureWeekday=a},refreshAdultFilterOptions:function(){var e=new u.a;for(var t in this.deals)e.add(this.deals[t].numberOfAdults);var r=["Any"];e.has("1")&&r.push("1"),e.has("2")&&r.push("2"),e=new u.a(r);var a=[];t=0;var l=!0,i=!1,n=void 0;try{for(var s,d=o()(e);!(l=(s=d.next()).done);l=!0){var c=s.value;a.push({fId:t,fval:c,fText:c}),t++}}catch(f){i=!0,n=f}finally{try{l||null==d.return||d.return()}finally{if(i)throw n}}this.filterAdult=a},displayAllDealsOnPage:function(){this.showAllDeals=!0,this.showAllDealsCss="d-none",this.dealsToShow=JSON.parse(v()(this.deals))},filterAppliedHandler:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];1==t&&(this.numDealsToShowNow=this.defaultDealsNumberPerPage);var r=this.deals.slice();function a(e,t){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=(new Date).getFullYear();if(0==a){var i=t+" "+e+", "+l.toString();r=new Date(i)}else r=new Date;var n=new Date(l,0,1),s=Math.ceil(((r-n)/864e5+n.getDay()+1)/7);return s}"Any"!==this.filterDestinationSelected&&(r=r.filter(function(t){return t.destinationCity==e.filterDestinationSelected})),"Any"!==this.filterDepartureSelected&&(r=r.filter(function(t){return t.departureCity==e.filterDepartureSelected})),0!==this.filterBudgetSelected&&(r=r.filter(function(t){return t.budgetBucket==e.filterBudgetSelected})),"Any"!==this.filterStarsSelected&&(r=r.filter(function(t){return t.accommodationStarRating==e.filterStarsSelected})),"Any"!==this.filterDepartureWeekdaySelected&&(r=r.filter(function(t){return t.departureDayEn==e.filterDepartureWeekdaySelected})),"Any"!==this.filterAdultSelected&&(r=r.filter(function(t){return t.numberOfAdults==e.filterAdultSelected})),"Any"!==this.filterDepartureWeekSelected&&("This week"==this.filterDepartureWeekSelected&&(r=r.filter(function(e){return a(e.departureDay,e.departureMonthShort,!1)==a(0,0,!0)})),"Next week"==this.filterDepartureWeekSelected&&(r=r.filter(function(e){return a(e.departureDay,e.departureMonthShort,!1)==a(0,0,!0)+1})),"Two weeks ahead"==this.filterDepartureWeekSelected&&(r=r.filter(function(e){return a(e.departureDay,e.departureMonthShort,!1)==a(0,0,!0)+2})),"Three weeks ahead"==this.filterDepartureWeekSelected&&(r=r.filter(function(e){return a(e.departureDay,e.departureMonthShort,!1)==a(0,0,!0)+3}))),this.dealsToShow=r.slice(0,this.numDealsToShowNow),0==this.dealsToShow.length?(this.showAllDealsCss="d-none",this.overFilteringCsss=""):(this.showAllDealsCss="",this.overFilteringCsss="d-none"),this.numDealsToShowNow>=r.length-1?this.showAllDealsCss="d-none":this.showAllDealsCss=""},removeAllFilters:function(){this.filterAdultSelected="Any",this.filterDestinationSelected="Any",this.filterDepartureSelected="Any",this.filterDepartureWeekdaySelected="Any",this.filterStarsSelected="Any",this.filterDepWeekSelected="Any",this.filterDepartureWeekSelected="Any",this.filterBudgetSelected=0,this.filterAppliedHandler()},displayMoreDeals:function(){this.numDealsToShowNow+=20;var e=JSON.parse(v()(this.deals));this.numDealsToShowNow>e.length-1?(this.numDealsToShowNow=e.length-1,this.showAllDeals=!0,this.showAllDealsCss="d-none"):(this.showAllDeals=!1,this.showAllDealsCss=""),this.filterAppliedHandler(!1)}},props:{source:String}},j=P,M=r("7496"),L=r("a523"),H=r("549c"),J=r("553a"),R=r("f774"),G=r("b56d"),$=r("71d9"),q=r("706c"),z=r("2a7f"),Y=Object(m["a"])(j,i,n,!1,null,null,null),K=Y.exports;D()(Y,{VApp:M["a"],VBtn:A["a"],VContainer:L["a"],VContent:H["a"],VFooter:J["a"],VIcon:_["a"],VImg:C["a"],VLayout:I["a"],VList:O["a"],VListTile:F["a"],VListTileTitle:V["b"],VNavigationDrawer:R["a"],VSelect:G["a"],VSpacer:B["a"],VToolbar:$["a"],VToolbarSideIcon:q["a"],VToolbarTitle:z["a"]}),a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(K)}}).$mount("#app")},7780:function(e,t,r){}});
//# sourceMappingURL=app.2c6ebdf9.js.map